{"version":3,"sources":["JavaScript/home/imgSlider.js","JavaScript/component/app.js","JavaScript/home/songSlider.js","JavaScript/rank/app.js","JavaScript/my_music/app.js","JavaScript/day_rec/app.js","JavaScript/nav/tab.js","JavaScript/nav/search.js","JavaScript/nav/setCookie.js","JavaScript/app.js"],"names":["ImgSlider","container","selector","index","intervalId","stop","first","$","last","clone","insertAfter","insertBefore","length","css","setTimer","mouseenter","mouseleave","setInterval","scroll","keyframes","options","animate","left","clearInterval","picUrl","h5Url","text","liDom","document","createElement","className","appendTo","ajax","method","url","success","res","i","data","template","sliderInit","Lyric","player","currentTime","lyric","$audio","querySelector","remove","append","songmid","_this","settings","done","response","match","resetScroll","html","map","item","slice","join","startScroll","replace","p1","p2","Math","round","lyricTime","lt","removeClass","addClass","y","stopScroll","scrollLyric","bind","$active","Prograss","duration","nowTime","prograss","$progressRate","$playedTime","$allTime","formatTime","update","reset","start","attr","time","min","floor","sec","Load","slot","instead","dom","el","children","hide","fadeIn","Tip","color","message","colorType","setTimeout","fadeOut","BtnState","audio","paused","Player","musicData","btn","prev","click","onPlay","isPlay","pause","e","slideUp","slideDown","volume","show","render","newPlay","id","Date","getTime","src","PlayerUrl","autoplay","on","play","restart","body","appendChild","load","playerInit","PicUrl","songName","singerName","mousedown","mousemove","vol","offsetX","val","mouseup","unbind","muted","width","currentPosition","toScroll","siblings","SongList","showPic","imgurl","dissname","info","title","list","songlist","interval","mid","name","songname","pay","payplay","singer","console","log","currentTarget","dataset","GetMusicData","getData","albumid","pay_play","loadover","dataType","track_info","album","musicPicUrl","peak","musicPlayUrl","result","errMsg","createAudio","getLyric","tip","SongSlider","tab","area","song","showlist","songUrl","splice","throttle","func","wait","timer","fn","curr","now","diff","clearTimeout","RenderRank","count","amblumSongList","initTime","forEach","it","push","renderHtml","a","topId","updateTime","label","rank","unfold","ablumId","getAmblumId","getSongMid","topid","target","amblumId","Mymusic","header","qq","headerload","bodyload","getCookie","headpic","nickname","lvinfo","showDiss","renderDiss","hasClass","dissid","getMyDiss","userCookie","uin","getDetail","creator","nick","lvinfo_bykey","url_params","mymusic","mydiss","num","renderHeader","getMymusic","mymusicid","renderMymusic","logo","mydisslist","picurl","DayRec","Tab","clickTab","currentTab","prevTab","showPage","root","slider","songSlider","qm_keyst","renderJs","call","decideArea","type","init","Search","listener","pageSize","total","pageNo","maxPage","keyword","isonly","over","innerHTML","preventDefault","scrollLoad","singmid","onscroll","pageYOffset","documentElement","clientHeight","window","addEventListener","SetCookie","cookie","JSON","stringify","location","reload","form","fadeToggle","submit","set","undefined","deleteCookie","activeLi"],"mappings":"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","file":"app.1b4a64ab.js","sourceRoot":"..","sourcesContent":["\n\nexport class ImgSlider {\n\tconstructor(container, selector) {\n\t\tthis.container = container\n\t\tthis.selector = selector\n\t\tthis.index = 0\n\t\tthis.intervalId=null\n\t}\n\n\tsliderInit() {\n\t\tthis.stop()\n\t\tthis.index = 0\n\t\tlet first = $(this.selector).first()\n\t\tlet last = $(this.selector).last()\n\t\tfirst.clone().insertAfter(last)\n\t\tlast.clone().insertBefore(first)\n\t\tthis.length = $(this.selector).length\n\t\t$(this.container).css('width',`${this.length*1200}px`,'left',`-1200px`)\n\t\tthis.setTimer()\n\t\t$(this.container).mouseenter(()=>{\n\t\t\tthis.stop()\n\t\t}).mouseleave(()=>{\n\t\t\t this.setTimer()\n\t\t})\n\t}\n\n\tsetTimer(){\n\t\tthis.stop()\n\t\tthis.intervalId = setInterval(()=>{\n\t\t\tthis.scroll()\n\t\t}, 2000)\n\t}\n\n\tscroll(keyframes, options) {\n\t\tif (this.index <  this.length - 1) {\n\t\t\tthis.index += 1\n\t\t\t$ (this.container)\n\t\t\t\t.animate ({left: `${-1200 * this.index}px`},\"2000\");\n\t\t} else {\n\t\t\tthis.index = 1\n\t\t\t$ (this.container)\n\t\t\t\t.css ('left', '-1200px')\n\t\t}\n\t}\n\n\tstop(){\n\t\tclearInterval(this.intervalId)\n\t}\n\n\ttemplate(picUrl,h5Url){\n\t\tlet text =\t`<a target=\"-_blank\"  href='${h5Url}'><img src='${picUrl}' alt=\"\" ></a>`\n\t\tlet liDom = document.createElement('li')\n\t\tliDom.className = 'slider_ul_li'\n\t\t$(text).appendTo(liDom)\n\t\treturn liDom\n\t}\n\n\trender(){\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: 'http://localhost:3300' +\n\t\t\t\t'/recommend/banner',\n\t\t\tsuccess: (res)=>{\n\t\t\t\tfor(let i=0;i<res.data.length;i++){\n\t\t\t\t\t$(this.template(res.data[i].picUrl,res.data[i].h5Url)).appendTo($(this.container))\n\t\t\t\t}\n\t\t\t\tthis.sliderInit();\n\t\t\t}\n\t\t})\n\t}\n\n}","\n\nexport class Lyric {\n\tconstructor() {\n\t\tthis.player = $ ('#player')\n\t\tthis.currentTime = 0\n\t\tthis.index = 0\n\t\tthis.lyric = ''\n\t\tthis.$audio = document.querySelector ('audio')\n\t\tthis.intervalId = null\n\t}\n\n\t//歌词渲染\n\ttemplate() {\n\t\t$ ('#player_all')\n\t\t\t.remove ()\n\t\tlet html = `<div id=\"player_all\" >\n\t\t\t\t        <div class=\"lyric_box\">\n\t\t\t\t        </div>\n\t\t\t         </div>`\n\t\tthis.player.append (html)\n\t}\n\n\tgetLyric(songmid) {\n\t\tlet _this = this\n\t\tconst settings = {\n\t\t\t\"url\": `http://localhost:3300/lyric?songmid=${songmid}`,\n\t\t\t\"method\": \"GET\",\n\t\t};\n\t\t$.ajax (settings)\n\t\t\t.done (function (response) {\n\t\t\t\tlet lyric = response.data.lyric\n\t\t\t\tlyric = lyric.match (/^\\[\\d{2}:\\d{2}.\\d{2}](.+)$/gm)\n\t\t\t\t_this.resetScroll (lyric)\n\t\t\t\t_this.lyric = lyric\n\t\t\t\tlet html = lyric.map (item => {\n\t\t\t\t\treturn `<div class=\"player-lyrics-line\">${item.slice (10)}</div>`\n\t\t\t\t})\n\t\t\t\t\t.join (\"\")\n\t\t\t\t$ ('.lyric_box')\n\t\t\t\t\t.append (html)\n\t\t\t\t_this.startScroll ()\n\t\t\t});\n\t}\n\n\t//歌词滚动\n\tlyricTime(lyric) {\n\t\treturn lyric.replace (/^\\[(\\d{2}):(\\d{2}).*/, (match, p1, p2) => 60 * (+p1) + (+p2))\n\t}\n\n\tscrollLyric() {\n\t\tlet _this = this\n\t\t_this.currentTime = Math.round (_this.$audio ? _this.$audio.currentTime : _this.currentTime + 1)\n\t\t// if (_this.index >= _this.lyric.length) {\n\t\t// \tconsole.log ('结束了?')\n\t\t// \treturn\n\t\t// }\n\t\tfor (let i = 0; i < _this.lyric.length; i++) {\n\t\t\tif (_this.lyricTime (_this.lyric[i]) <= _this.currentTime && (!_this.lyric[i + 1] || this.lyricTime (_this.lyric[i + 1]) >= _this.currentTime)) {\n\t\t\t\tlet lt = $ ('.player-lyrics-line')\n\t\t\t\t$ (lt[_this.index])\n\t\t\t\t\t.removeClass ('inactive')\n\t\t\t\t$ (lt[i])\n\t\t\t\t\t.addClass ('inactive')\n\t\t\t\t_this.index = i\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (_this.index > 2) {\n\t\t\tlet y = -(_this.index - 2) * 60\n\t\t\t$ ('.player-lyrics-line')\n\t\t\t\t.css ('transform', `translateY(${y}px)`)\n\t\t}\n\t}\n\n\tstartScroll() {\n\t\tthis.stopScroll ()\n\t\tthis.intervalId = setInterval (\n\t\t\tthis.scrollLyric.bind (this)\n\t\t\t, 1000)\n\t}\n\n\tstopScroll() {\n\t\tclearInterval (this.intervalId)\n\t}\n\n\tresetScroll() {\n\t\tthis.stopScroll ()\n\t\tthis.currentTime = 0\n\t\tthis.index = 0\n\t\t$ ('.player-lyrics-line')\n\t\t\t.css ('transform', `translateY(0px)`)\n\t\tlet $active = $ ('.inactive')\n\t\tif ($active) {\n\t\t\t$active.removeClass ('inactive')\n\t\t}\n\t}\n\n\ttoScroll(currentTime) {\n\t\tthis.currentTime = currentTime\n\t}\n\n\trestart() {\n\t\tthis.resetScroll ()\n\t\tthis.startScroll ()\n\t}\n}\n\nexport class Prograss {\n\tconstructor(duration) {\n\t\tthis.nowTime = 0\n\t\tthis.duration = duration || 0\n\t\tthis.prograss = 0\n\t\tthis.intervalId = null\n\t\tthis.$progressRate = $ ('.music_progress')\n\t\tthis.$playedTime = $ ('.played_time')\n\t\tthis.$allTime = $ ('.duration')\n\t\tthis.$audio = document.querySelector ('audio')\n\t\tthis.$allTime.html (this.formatTime (this.duration))\n\t}\n\n\tstart() {\n\t\tthis.stop ()\n\t\tthis.intervalId = setInterval (() => {\n\t\t\tthis.update ()\n\t\t}, 10)\n\t}\n\n\tstop() {\n\t\tclearInterval (this.intervalId)\n\t}\n\n\trestart() {\n\t\tthis.reset ()\n\t\tthis.start ()\n\t}\n\n\treset(duration) {\n\t\tthis.stop ()\n\t\tthis.nowTime = 0\n\t\tthis.prograss = 0\n\t\tthis.$progressRate.attr ('value', '0')\n\t\tthis.$playedTime.html (this.formatTime (this.$audio.currentTime))\n\t\tif (duration) {\n\t\t\tthis.duration = +duration\n\t\t\tthis.$allTime.html (this.formatTime (this.duration))\n\t\t}\n\t}\n\n\tupdate() {\n\t\tthis.prograss = this.$audio.currentTime / this.duration\n\t\tthis.$progressRate.attr ('value', `${this.prograss * 100}`)\n\t\tthis.$progressRate.css ('background-size', `${this.prograss * 100}% 100%`)\n\t\tthis.$playedTime.html (this.formatTime (this.$audio.currentTime))\n\t}\n\n\tformatTime(time) {\n\t\tlet min = Math.floor (time / 60)\n\t\tlet sec = Math.floor (time % 60)\n\t\tif (min < 10) min = '0' + min\n\t\tif (sec < 10) sec = '0' + sec\n\t\treturn `${min}:${sec}`\n\t}\n}\n\nexport class Load {\n\tconstructor(slot, replace = false) {\n\t\tthis.slot = slot\n\t\tthis.instead = replace\n\t\tthis.dom = null\n\t}\n\n\ttemplate(el) {\n\t\tlet html = `\n    <svg t=\"1603018131108\" class=\"icon loading load_rotate\"  viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n         p-id=\"3289\" >\n        <path  d=\"M96 512c0-19.33 15.67-35 35-35s35 15.67 35 35c0 191.09 154.91 346 346 346s346-154.91 346-346-154.91-346-346-346c-19.33 0-35-15.67-35-35s15.67-35 35-35c229.75 0 416 186.25 416 416S741.75 928 512 928 96 741.75 96 512z\"\n              fill=\"#73ac00\" p-id=\"3290\"></path>\n    </svg>\n\t\t`\n\t\tlet dom = document.createElement ('div')\n\t\tdom.className = 'load_ico'\n\t\t$ (dom)\n\t\t\t.append (html)\n\t\tif (this.instead === true) {\n\t\t\t$ (el || this.slot).children ().hide ()\n\t\t\t$ (el || this.slot).append ($ (dom))\n\t\t} else {\n\t\t\t$ (el || this.slot)\n\t\t\t\t.append ($ (dom))\n\t\t}\n\t\tthis.dom = $ (dom)\n\n\t}\n\n\trender() {\n\t\tthis.dom.fadeIn ()\n\t}\n\n\tremove(el) {\n\t\tif (this.instead === true) {\n\t\t\t$ (el || this.slot)\n\t\t\t\t.children ()\n\t\t\t\t.fadeIn ()\n\t\t}\n\t\tthis.dom.remove ()\n\t}\n}\n\nexport class Tip{\n\tconstructor() {\n\t\tthis.color={\n\t\t\t'waring':'#E6A23C',\n\t\t\t'success':'#67C23A',\n\t\t\t'fail':'#F56C6C'\n\t\t}\n\t}\n\ttemplate(message,colorType){\n\t\tlet html = `\n\t\t<div class=\"tip\" style=\"background-color:${this.color[colorType]} \">\n            <span>${message}</span>\n\t\t</div>\n\t\t`\n\t\t$(html).appendTo($('body'))\n\t\tsetTimeout(()=>{\n\t\t\t$('.tip').fadeOut()\n\t\t},1500)\n\t}\n}\n\nexport class BtnState{\n\tconstructor(el){\n\t\tthis.el = el\n\t\tthis.html = ``\n\t\tthis.template()\n\t}\n\ttemplate(){\n\t\tthis.html = `<div class=\"change_state_btn\">\n        <svg t=\"1602743985614\" class=\"icon play\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8616\" width=\"200\" height=\"200\"><path d=\"M512 0C229.216 0 0 229.216 0 512s229.216 512 512 512 512-229.216 512-512S794.784 0 512 0zM512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96s416 186.24 416 416S741.76 928 512 928zM384 288 768 512 384 736z\" p-id=\"8617\" fill=\"#ffffff\"></path></svg>\n        <svg t=\"1602744019440\" class=\"icon pause\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8857\" width=\"200\" height=\"200\"><path d=\"M512 0C229.216 0 0 229.216 0 512s229.216 512 512 512 512-229.216 512-512S794.784 0 512 0zM512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96s416 186.24 416 416S741.76 928 512 928zM320 320 448 320 448 704 320 704zM576 320 704 320 704 704 576 704z\" p-id=\"8858\" fill=\"#ffffff\"></path></svg>\n    </div>`\n\t}\n\trender(){\n\t\t$('.change_state_btn').remove()\n\t\t$(this.el).append(this.html)\n\t\t$('.play').css('display','none')\n\t\t$('.pause').css('display','block')\n\t}\n\tisPlay(audio){\n\t\tif(audio){\n\t\t\tif(audio.paused){\n\t\t\t\t$('.play').css('display','block')\n\t\t\t\t$('.pause').css('display','none')\n\t\t\t}else{\n\t\t\t\t$('.play').css('display','none')\n\t\t\t\t$('.pause').css('display','block')\n\t\t\t}\n\t\t}else{\n\t\t\t$('.play').css('display','block')\n\t\t\t$('.pause').css('display','none')\n\t\t}\n\t}\n}\n\nexport class Player {\n\tconstructor(musicData) {\n\t\tthis.musicData = musicData\n\t\tthis.btn = new BtnState('.player_left')\n\t\tthis.$audio = null\n\t\tthis.duration= null\n\t\tthis.prev= null\n\t\tthis.Lyric= null\n\n\t}\n\tplayerInit() {\n\t\tthis.prograss.start ()\n\t\t$ ('.play')\n\t\t\t.click (() => {\n\t\t\t\tthis.onPlay ()\n\t\t\t\tthis.btn.isPlay (this.$audio)\n\t\t\t})\n\t\t$ ('.pause')\n\t\t\t.click (() => {\n\t\t\t\tthis.pause ()\n\t\t\t\tthis.btn.isPlay (this.$audio)\n\t\t\t})\n\t}\n\thidden() {\n\t\t$ ('.prograss_min')\n\t\t\t.click ((e) => {\n\t\t\t\t$ ('#player')\n\t\t\t\t\t.slideUp ()\n\t\t\t})\n\t}\n\tshow() {\n\t\t$ ('#player')\n\t\t\t.slideDown()\n\t}\n\tcreateAudio(volume) {\n\t\tthis.show ()\n\t\tthis.render (volume)\n\t\tthis.btn.render ()\n\t\tlet audio = document.querySelector ('audio')\n\t\tif (!audio) {\n\t\t\taudio = document.createElement ('audio')\n\t\t\taudio.id = `Player-${new Date ().getTime ()}`\n\t\t\taudio.src = `${this.musicData.PlayerUrl}`;\n\t\t\taudio.autoplay = true\n\t\t\t// audio.loop = true\n\t\t\taudio.volume = volume\n\t\t\t$ (audio)\n\t\t\t\t.on ('ended', () => {\n\t\t\t\t\tthis.$audio.play()\n\t\t\t\t\tthis.prograss.restart ()\n\t\t\t\t\tlyric.restart()\n\t\t\t\t})\n\t\t\tdocument.body.appendChild (audio)\n\t\t\tthis.$audio = document.querySelector ('audio')\n\t\t\tthis.$audio.load ()\n\t\t\t$ (this.$audio)\n\t\t\t\t.on ('canplay', () => {\n\t\t\t\t\tthis.prograss = new Prograss(audio.duration)\n\t\t\t\t\tthis.duration = audio.duration\n\t\t\t\t\tthis.playerInit ()\n\t\t\t\t})\n\t\t} else {\n\t\t\tthis.newPlay ()\n\t\t}\n\n\t\treturn audio\n\t}\n\trender(volume) {\n\t\tlet _this = this\n\t\tlet text = `\n <!--播放器-->\n \t<div class=\"player_left\">\n \t    <img src=\"${this.musicData.PicUrl}\" alt=\"\" height=\"100px\">\n\t\t\n\t</div>\n<!--    右半部分-->\n    <div class=\"player_right\">\n    \t<div class=\"player_right_top\">\n    \t\t<div class=\"player_right_top_quote\">\n            <span class=\"song_msg\">${this.musicData.songName} - ${this.musicData.singerName}</span>\n\t\t\t<svg t=\"1603198937683\" class=\"icon volume not_zero\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3383\" data-spm-anchor-id=\"a313x.7781069.0.i10\" width=\"200\" height=\"200\">\n\t\t\t\t<path d=\"M580.2 907.1c-20.2 0-39.6-6.2-56.2-17.8L308.8 731.8c-11.5-8-25.7-12.5-40.5-12.5h-74.4c-54 0-97.9-43.9-97.9-97.9V402.7c0-54 43.9-97.9 97.9-97.9h74.4c14.8 0 29-4.5 41.1-12.9l214.1-156.7c0.2-0.1 0.4-0.3 0.6-0.4 35.6-24.9 82.6-23.6 116.9 3.3 23.3 18.3 37.3 48 37.3 79.6v589.4c0 28-10.9 54.4-29.8 72.5-18.8 17.7-43 27.5-68.3 27.5zM193.9 375.6c-14.9 0-27.1 12.1-27.1 27.1v218.7c0 14.9 12.1 27.1 27.1 27.1h74.4c29.4 0 57.6 8.9 81.7 25.7l215.3 157.5c4 2.8 9.4 4.5 14.9 4.5 5 0 12.4-1.4 19.3-8 4.9-4.7 7.8-12.6 7.8-21.2V217.6c0-10-3.8-18.9-10.1-23.8-9.7-7.6-22.3-8.1-32.3-1.2L350.6 349.5c-24.7 17.3-52.9 26.2-82.3 26.2h-74.4z\" fill=\"#ffffff\" p-id=\"3384\" data-spm-anchor-id=\"a313x.7781069.0.i9\" class=\"\"></path><path d=\"M837.7 694.9c-6.5 0-13.1-1.8-19-5.5-16.5-10.5-21.4-32.4-10.9-48.9 65.9-103.6 65.9-193.5-0.2-282.9-11.6-15.7-8.3-37.9 7.4-49.6s37.9-8.3 49.6 7.4c83.5 112.9 84.5 235.1 3 363.1-6.7 10.6-18.2 16.4-29.9 16.4zM498.2 618.3c-19.6 0-35.4-15.9-35.4-35.4V441.2c0-19.6 15.9-35.4 35.4-35.4 19.6 0 35.4 15.9 35.4 35.4v141.7c0 19.6-15.8 35.4-35.4 35.4z\"  p-id=\"3385\" data-spm-anchor-id=\"a313x.7781069.0.i6\" class=\"volume_line\"></path>\n\t\t\t</svg>\n\t\t\t<input type=\"range\" class=\"volume_range\" min=\"0\" max=\"1\" step=\"0.01\" value=\"${volume}\" >\n\t\t\t</div>\n\t\t\t<div class=\"ico_group\">\n\t\t\t\t<svg t=\"1603207544491\" class=\"icon expansion\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6545\" width=\"200\" height=\"200\">\n\t\t\t\t\t<path d=\"M448 554.666667c-6.4 0-10.666667 2.133333-14.933333 6.4L85.333333 908.8 85.333333 661.333333c0-12.8-8.533333-21.333333-21.333333-21.333333s-21.333333 8.533333-21.333333 21.333333l0 298.666667c0 12.8 8.533333 21.333333 21.333333 21.333333l298.666667 0c12.8 0 21.333333-8.533333 21.333333-21.333333 0-12.8-8.533333-21.333333-21.333333-21.333333L115.2 938.666667l347.733333-347.733333c4.266667-4.266667 6.4-8.533333 6.4-14.933333C469.333333 563.2 460.8 554.666667 448 554.666667zM960 42.666667 661.333333 42.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333l247.466667 0L561.066667 433.066667C556.8 437.333333 554.666667 441.6 554.666667 448c0 12.8 8.533333 21.333333 21.333333 21.333333 6.4 0 10.666667-2.133333 14.933333-6.4L938.666667 115.2 938.666667 362.666667c0 12.8 8.533333 21.333333 21.333333 21.333333s21.333333-8.533333 21.333333-21.333333L981.333333 64C981.333333 51.2 972.8 42.666667 960 42.666667z\" p-id=\"6546\" >\n\t\t\t\t</path>\n\t\t\t\t</svg>\n\t\t\t\t<svg t=\"1603259694775\" class=\"icon withdraw\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4813\" width=\"200\" height=\"200\">\n\t\t\t\t\t<path d=\"M448 554.666667 149.333333 554.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333l247.466667 0L49.066667 945.066667C44.8 949.333333 42.666667 953.6 42.666667 960c0 12.8 8.533333 21.333333 21.333333 21.333333 6.4 0 10.666667-2.133333 14.933333-6.4L426.666667 627.2 426.666667 874.666667c0 12.8 8.533333 21.333333 21.333333 21.333333s21.333333-8.533333 21.333333-21.333333L469.333333 576C469.333333 563.2 460.8 554.666667 448 554.666667zM981.333333 64c0-12.8-8.533333-21.333333-21.333333-21.333333-6.4 0-10.666667 2.133333-14.933333 6.4L597.333333 396.8 597.333333 149.333333c0-12.8-8.533333-21.333333-21.333333-21.333333s-21.333333 8.533333-21.333333 21.333333l0 298.666667c0 12.8 8.533333 21.333333 21.333333 21.333333l298.666667 0c12.8 0 21.333333-8.533333 21.333333-21.333333s-8.533333-21.333333-21.333333-21.333333L627.2 426.666667 974.933333 78.933333C979.2 74.666667 981.333333 70.4 981.333333 64z\" p-id=\"4814\" class=\"volume_line\"></path>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t</div>\n<!--        进度条-->\n        <div class=\"prograss_container\">\n            <div class=\"prograss_group\">\n                <span class=\"played_time\">00:00</span>\n<!--                <div class=\"prograss_bar\">-->\n<!--                    <div class=\"prograss_blue\"></div>-->\n<!--                </div>-->\n                <input type=\"range\" class=\"music_progress\"  min=\"0\" max=\"100\" step=\"1\" value=\"0\" >\n                <span class=\"duration\">00:00</span>\n            </div>\n        </div>\n    </div>\n\t\t`\n\t\t$ ('.player_prograss')\n\t\t\t.html (text)\n\t\tthis.prev = volume\n\t\t$('.volume_range').css('background-size',`${Math.floor(volume*100)}%`).mouseenter(function (e){\n\t\t\t$(this).mousedown((e)=>{\n\t\t\t\t$(this).mousemove((e)=>{\n\t\t\t\t\tlet vol = e.offsetX<=0?0:(e.offsetX>=100?100:e.offsetX)\n\t\t\t\t\t$(this).val(vol/100)\n\t\t\t\t\t$(this).css('background-size',`${vol}% 100%`)\n\t\t\t\t\t_this.$audio.volume = e.offsetX<1 ? 0 : (e.offsetX>= 100 ? 1 : e.offsetX/100)\n\t\t\t\t\t$(this).mouseup(()=>{\n\t\t\t\t\t\t_this.prev = $(this).val()\n\t\t\t\t\t\t$(this).unbind('mousemove')\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t})\n\t\t})\n\n\t\t$('.volume').click(function (e){\n\t\t\tif(_this.$audio.muted){\n\t\t\t\t$('.volume_range').val(_this.prev).css('background-size',`${_this.prev*100}% 100%`)\n\t\t\t}else {\n\t\t\t\t$('.volume_range').val(0).css('background-size',`0% 100%`)\n\t\t\t}\n\t\t\t_this.$audio.muted = !_this.$audio.muted\n\t\t})\n\n\t\t$('.music_progress').mouseenter(function (e){\n\n\t\t\tlet width = $(this).width()\n\t\t\tlet ofx = e.offsetX<=0?0:(e.offsetX>=width?100:e.offsetX)\n\t\t\tlet currentPosition = ofx/$(this).width()\n\t\t\t$(this).mousedown((e)=>{\n\n\t\t\t\tlyric.toScroll(_this.$audio .duration * currentPosition)\n\t\t\t\t_this.prograss.currentTime = _this.$audio .duration * currentPosition\n\t\t\t\t_this.$audio.currentTime = _this.$audio .duration * currentPosition\n\t\t\t})\n\t\t\t$(document).unbind('mousedown');\n\n\t\t})\n\n\t\t$('.expansion').click(function (e){\n\t\t\t$('#player_all').css('transform','translateY(0%)')\n\t\t\t$(this).css('display','none').siblings().css('display','block')\n\t\t})\n\n\t\t$('.withdraw').click(function (e){\n\t\t\t$('#player_all').css('transform','translateY(95%)')\n\t\t\t$(this).css('display','none').siblings().css('display','block')\n\t\t})\n\t}\n\tpause() {\n\t\tlyric.stopScroll()\n\t\tthis.prograss.stop ()\n\t\tthis.$audio\n\t\t\t.pause ()\n\t}\n\tonPlay() {\n\t\tthis.prograss.start()\n\t\tlyric.startScroll()\n\t\tthis.$audio\n\t\t\t.play ()\n\t}\n\tnewPlay() {\n\t\tlet audio = document.querySelector ('audio')\n\t\taudio.id = `Player-${new Date ().getTime ()}`\n\t\taudio.src = `${this.musicData.PlayerUrl}`;\n\t\taudio.autoplay = true\n\t\t// audio.loop = true\n\t\t$ (audio)\n\t\t\t.on ('ended', () => {\n\t\t\t\tthis.$audio.play()\n\t\t\t\tthis.prograss.restart ()\n\t\t\t\tlyric.restart()\n\t\t\t})\n\t\tdocument.body.appendChild (audio)\n\t\tthis.$audio = document.querySelector ('audio')\n\t\tthis.$audio.load ()\n\t\t$ (this.$audio)\n\t\t\t.on ('canplay', () => {\n\t\t\t\tthis.prograss = new Prograss(audio.duration)\n\t\t\t\tthis.prograss.reset (this.duration)\n\t\t\t\tthis.duration = audio.duration\n\t\t\t})\n\t}\n}\n\nexport class SongList {\n\tconstructor(slot,data,showPic=true) {\n\t\tthis.slot = slot\n\t\tthis.data = data\n\t\tthis.showPic = showPic\n\t}\n\n\ttemplate(imgurl) {\n\t\tlet html\n\t\tif(this.showPic){\n\t\t\thtml = `\n<div class=\"ablum_song\">\n\t\t\t<div class=\"day_top\">\n                <img height=\"260px\"\n                     src=\"${imgurl}\"\n                     alt=\"\">\n                <div class=\"day_top_text\">\n                    <p>${this.data.dissname || this.data.info.title}</p>\n                    <p style=\"${this.data.update?'display:block':'display:none'}\">更新于:${this.data.update}</p>\n                </div>\n            </div>\n            <div class=\"day_bottom\">\n                <p>歌曲列表:</p>\n                <ul class=\"ablum_song_list\">\n\t\t\t\t\t\t\n                </ul>\n            </div>\n</div>\n\n\t\t`\n\t\t}else {\n\t\t\thtml = `\n\t\t<div class=\"ablum_song\">\n\t\t            <div class=\"day_bottom\">\n\t\t                <p>歌曲列表:</p>\n\t\t                <ul class=\"ablum_song_list\">\n\t\t\t\t\t\t\t\t\n\t\t                </ul>\n\t\t            </div>\n\t\t</div>\n\n\t\t`\n\t\t}\n\t\t$(this.slot).append(html)\n\t\tthis.render()\n\t}\n\tformatTime(time){\n\t\tlet min = Math.floor(time /60)\n\t\tlet sec = Math.floor(time%60)\n\t\tif(min<10)min = '0'+min\n\t\tif(sec<10)sec = '0'+sec\n\n\t\treturn `${min}:${sec}`\n\t}\n\trender(){\n\t\tlet songlist = this.data.list || this.data.songlist\n\t\tlet list = songlist.map(item=>{\n\t\t\tlet time = this.formatTime(item.interval)\n\t\t\tlet html = `<li class=\"song_list\" data-songmid=\"${item.mid||item.songmid}\">\n\t\t\t\t<a>\n\t\t\t\t\t<span>\n                        ${item.name ||item.songname}\n                        <span class=\"song_isvip\">${item.pay.payplay?'vip':'no'}</span>\n                        </span>\n\t\t\t\t\t\n\t\t\t\t\t<span>${item.singerName||item.singer[0].name}</span>\n\t\t\t\t\t<span>${time}</span>\n\t\t\t\t</a>\n\t\t\t</li>`\n\t\t\t$('.ablum_song_list').append(html)\n\n\t\t})\n\t\tthis.play()\n\t}\n\n\tplay(){\n\t\t$('.song_list').on('click',function (e){\n\t\t\tconsole.log (this)\n\t\t\tlet load = new Load('',true)\n\t\t\tload.template(this)\n\t\t\tlet songmid = e.currentTarget.dataset.songmid\n\t\t\tlet song = new GetMusicData()\n\t\t\tsong.getData(songmid,load,this)\n\t\t})\n\n\t}\n\n}\n\nexport class GetMusicData {\n\tconstructor() {\n\t\tthis.musicData = []\n\t\tthis.albumid = ''\n\t\tthis.PlayerUrl = ''\n\t\tthis.PicUrl = ''\n\t\tthis.singerName = ''\n\t\tthis.songName = ''\n\t\tthis.volume= 0\n\t\tthis.pay_play = false\n\t\tthis.loadover = false\n\n\t}\n\n\tgetData(songmid,load,el) {\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: 'http://localhost:3300' + `/song?songmid=${songmid}`,\n\t\t\tdataType:'json',\n\t\t\tsuccess: res => {\n\t\t\t\tthis.albumid = res.data.track_info.album.mid\n\t\t\t\tthis.PicUrl = this.musicPicUrl(this.albumid)\n\t\t\t\tthis.pay_play = res.data.track_info.pay.pay_play\n\t\t\t\tthis.songName = res.data.track_info.name\n\t\t\t\tthis.singerName = res.data.track_info.singer[0].name\n\t\t\t\tthis.volume = res.data.track_info.volume.peak\n\t\t\t\tthis.musicPlayUrl(songmid,el)\n\t\t\t\tif(load){\n\t\t\t\t\tload.remove(el)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tmusicPlayUrl(songmid) {\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: 'http://localhost:3300' +\n\t\t\t\t`/song/url?id=${songmid}`,\n\t\t\tsuccess: res => {\n\t\t\t\tif(res.result===400){\n\t\t\t\t\tlet tip = new Tip()\n\t\t\t\t\ttip.template( `${res.errMsg}` ,'fail')\n\t\t\t\t\t$('.load_ico').hide()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.PlayerUrl = res.data\n\t\t\t\tlet player = new Player(this)\n\t\t\t\tplayer.createAudio(this.volume)\n\t\t\t\tlyric.template()\n\t\t\t\tlyric.getLyric(songmid)\n\t\t\t\t$('.load_ico').hide()\n\t\t\t}\n\t\t})\n\n\t}\n\n\tmusicPicUrl(albumid) {\n\t\treturn `https://y.gtimg.cn/music/photo_new/T002R300x300M000${albumid}.jpg`\n\t}\n\n}\n\nexport const lyric= new Lyric()\nexport const tip = new Tip();","\nimport {Lyric,Load,GetMusicData} from \"../component/app\";\n\nexport class SongSlider {\n\tconstructor(tab, container) {\n\t\tthis.container = container\n\t\tthis.tab = tab\n\t\tthis.area = $(`${this.tab}>li`)\n\t\tthis.player = null\n\t\tthis.songmid = null\n\t\tthis.song = null\n\t\tthis.showlist = {}\n\t\tthis.Lyric = new Lyric()\n\t}\n\ttemplate(picUrl, songUrl, item) {\n\t\tlet text = `\n\t\t<a class=\"song_mid\" data-songmid=\"${item.mid}\">\n\t\t\t<div>\n\t\t\t    <img  class=\"song_pic\" src=\"${picUrl}\"\n\t\t\t         alt=\"\">\n\t\t\t</div>\n\t\t\t<dl>\n\t\t\t    <dt class=\"song_name\">${item.title}</dt>\n\t\t\t    <dd class=\"singer\">${item.singer[0].name}</dd>\n\t\t\t</dl>\n\t\t</a>\n\t\t`\n\t\tlet liDom = document.createElement('li')\n\t\t$(liDom)\n\t\t\t.addClass('song_list_li')\n\t\t$(text)\n\t\t\t.appendTo(liDom)\n\n\t\treturn liDom\n\t}\n\t//判断地区\n\tdecideArea() {\n\t\tthis.load = new Load('.song_list_ul',true)\n\t\tthis.load.template()\n\t\tlet area = 0\n\t\tthis.render(area)\n\t\tlet _this = this\n\t\tlet prev =0\n\t\t$(`${this.tab}>li`).click(function(e) {\n\t\t\t_this.load.template()\n\t\t\tarea = $(this)\n\t\t\t\t.index()\n\t\t\tif(prev === area){\n\t\t\t\t_this.load.remove()\n\t\t\t}else {\n\t\t\t\tprev = area\n\t\t\t\t$(this)\n\t\t\t\t\t.addClass('active')\n\t\t\t\t\t.siblings()\n\t\t\t\t\t.removeClass('active')\n\t\t\t\t_this.render(area)\n\t\t\t}\n\n\t\t})\n\t}\n\n\trender(index) {\n\t\tlet _this = this\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: 'http://localhost:3300' +\n\t\t\t\t`/new/songs?type=${index || 0}`,\n\t\t\tsuccess: (res) => {\n\t\t\t\tif(res.result ===100){\n\t\t\t\t\tthis.load.remove()\n\t\t\t\t}\n\t\t\t\t$(this.container)\n\t\t\t\t\t.html('')\n\t\t\t\tthis.showlist = res.data.list.splice(0, 10)\n\t\t\t\tthis.showlist.map(item => {\n\t\t\t\t\tlet picUrl = `https://y.gtimg.cn/music/photo_new/T002R300x300M000${item.album.mid}.jpg`\n\t\t\t\t\t$(this.template(picUrl, null, item))\n\t\t\t\t\t\t.appendTo($(this.container))\n\t\t\t\t})\n\t\t\t\tlet on =  this.throttle(function (e){\n\t\t\t\t\t\t\tlet song = new GetMusicData()\n\t\t\t\t\t\t\tsong.getData (_this.songmid,null ,_this.Lyric)\n\t\t\t\t},1500)\n\t\t\t\t$ (`.song_mid`).on ('click', (e)=>{\n\t\t\t\t\tthis.songmid = e.currentTarget.dataset.songmid\n\t\t\t\t\ton()\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t}\n\tthrottle(func, wait) {\n\t\tlet _this = this\n\t\tlet prev, timer\n\t\treturn function fn() {\n\t\t\tlet curr = Date.now()\n\t\t\tlet diff = curr - prev\n\t\t\tif (!prev || diff >= wait) {\n\t\t\t\tfunc()\n\t\t\t\tprev = curr\n\t\t\t} else if (diff < wait) {\n\t\t\t\tclearTimeout(timer)\n\t\t\t\ttimer = setTimeout(fn, wait - diff)\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n","import {Load,SongList,GetMusicData} from \"../component/app\";\n// import {GetMusicData} from \"../commonFunc/getMusicData\";\n\n\nexport class RenderRank {\n\tconstructor(slot) {//el要插入的元素\n\t\tthis.slot = slot\n\t\tthis.count = 0\n\t\tthis.amblumSongList = []\n\t\tthis.data = []\n\t\tthis.initTime = null\n\t\tthis.load= new Load(slot, true)\n\t\tthis.load.template()\n\t\tthis.SongList\n\t}\n\n\tinit() {\n\t\t$.ajax ({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'http://localhost:3300' + '/top/category?showDetail=1',\n\t\t\tdataType: 'json',\n\t\t\tsuccess: (res) => {\n\t\t\t\tthis.initTime = res.result\n\t\t\t\tif (this.initTime === 100) {\n\t\t\t\t\tthis.load.remove ()\n\t\t\t\t}\n\t\t\t\tres.data.forEach (item => {\n\t\t\t\t\titem.list.slice (0, 2)\n\t\t\t\t\t\t.forEach (it => {\n\t\t\t\t\t\t\tthis.data.push (it)\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t//渲染页面内容\n\t\t\t\tthis.renderHtml ()\n\t\t\t}\n\t\t})\n\t}\n\n\trenderHtml() {\n\t\tlet a = this.data.map ((item, index) => {\n\t\t\treturn `\n\t <li class=\"rank_li_1\" data-id=\"${item.topId}\"  style=\"background-image:url(${item.picUrl})\">\n        <div class=\"rank_title rank_li_bgimg\">\n            <a class=\"dct\" data-topId=\"${item.topId}\" data-imgurl=\"${item.picUrl}\"   data-content=\"更新于:${item.updateTime}\"> ${item.label}</a>\n            <ul class=\"rank_ul_2\">\n                <li class=\"rank_li_2\">\n                    <a class=\"ablum_songmid\" data-topId=\"${item.topId}\" data-rank=\"${item.song[0].rank}\">\n                        <span>${item.song[0].title}</span>\n                        <span>${item.song[0].singerName}</span>\n                    </a>\n                </li>\n                <li  class=\"rank_li_2\">\n                    <a class=\"ablum_songmid\" data-topId=\"${item.topId}\" data-rank=\"${item.song[1].rank}\">\n                        <span>${item.song[1].title}</span>\n                        <span>${item.song[1].singerName}</span>\n                    </a>\n                </li>\n                <li class=\"rank_li_2\">\n                    <a class=\"ablum_songmid\" data-topId=\"${item.topId}\" data-rank=\"${item.song[2].rank}\">\n                        <span>${item.song[2].title}</span>\n                        <span>${item.song[2].singerName}</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </li>\n\t\t`\n\t\t})\n\t\t\t.join ('')\n\t\t$ (this.slot)\n\t\t\t.append (a)\n\t\tthis.unfold()\n\t}\n\n\tunfold() {\n\t\tlet _this = this\n\t\t$ ('.ablum_songmid')\n\t\t\t.on ('click', function (e) {\n\t\t\t\tlet ablumId = _this.getAmblumId (e)\n\t\t\t\t_this.getSongMid(ablumId.topid,ablumId.rank)\n\t\t\t})\n\t\t$('.dct').on ('click', function (e) {\n\t\t\t$('.rank_ul_1').css('display','none')\n\t\t\tlet  topid= e.target.dataset.topid\n\t\t\tlet imgurl = e.target.dataset.imgurl\n\t\t\t _this.load = new Load('.rank', true)\n\t\t\t_this.load.template()\n\t\t\t_this.getSongMid(topid,null,imgurl)\n\t\t})\n\t}\n\n\tgetAmblumId(e) {\n\t\treturn e.currentTarget.dataset\n\t}\n\n\tgetSongMid(amblumId,rank,imgurl){\n\t\t$.ajax({\n\t\t\tmethod:'GET',\n\t\t\turl:`http://localhost:3300/top?id=${amblumId}&pageSize=10`,\n\t\t\tsuccess:res=>{\n\t\t\t\tif(rank){\n\t\t\t\t\tlet songmid = res.data.list[rank-1].mid\n\t\t\t\t\tthis.play(songmid)\n\t\t\t\t}else {\n\t\t\t\t\tthis.amblumSongList = res.data\n\t\t\t\t\tthis.SongList = new SongList('.rank',this.amblumSongList,this.data)\n\t\t\t\t\tthis.SongList.template(imgurl)\n\t\t\t\t\t$('.rank>.load_ico').fadeOut()\n\t\t\t\t}\n\n\t\t\t}\n\t\t})\n\t}\n\n\tplay(songmid){\n\t\tlet song = new GetMusicData()\n\t\tsong.getData(songmid)\n\t}\n\n\n\n\n\n}","import {Load,Tip,SongList} from \"../component/app\";\n\nexport class Mymusic{\n\tconstructor(header,body) {\n\t\tthis.header = header\n\t\tthis.body = body\n\t\tthis.qq =''\n\t\tthis.headerload= new Load(this.header , true)\n\t\tthis.headerload.template()\n\t\tthis.bodyload = new Load('.my_music_songlist' , false)\n\t\tthis.bodyload.template()\n\t\tthis.data={\n\t\t\t'nickname':'',\n\t\t\t'headpic':'',\n\t\t\t'lvinfo':'',\n\t\t\t'mymusicid':0,\n\t\t\t'mydissnum':0,\n\t\t\t'mydisslist':'',\n\t\t\t'dissid':0,\n\t\t\t'list':''\n\t\t}\n\t\tthis.Tip = new Tip()\n\t\tthis.getCookie()\n\n\t}\n\t\trenderHeader(){\n\t\t\tlet header = `\n            <img src=\"${this.data.headpic}\" alt=\"\">\n            <div class=\"vip_container\">\n                <span >${this.data.nickname}</span>\n                <svg t=\"1603109300551\" style=\" ${this.data.lvinfo===0?'display:none':'display:block'}\" class=\"icon is_vip\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n                     p-id=\"3757\" width=\"200\" height=\"200\">\n                    <path d=\"M886.4 403.2l-35.2 38.4-3.2 3.2-32 32-48 51.2-182.4 16-44.8 3.2-35.2 3.2-41.6 3.2-156.8 12.8L188.8 448l-6.4-6.4-35.2-38.4 169.6-185.6H704l182.4 185.6z\"\n                          fill=\"#FFFFFF\" p-id=\"3758\"></path>\n                    <path d=\"M816 476.8L768 528l-246.4 288L188.8 448c41.6-16 131.2-48 220.8-38.4 16 0 32 3.2 44.8 6.4 28.8 6.4 60.8 19.2 89.6 35.2 6.4 3.2 16 9.6 22.4 12.8 12.8 6.4 25.6 12.8 38.4 16 83.2 32 163.2 16 211.2-3.2z\"\n                          fill=\"#0DE28B\" p-id=\"3759\"></path>\n                    <path d=\"M720 176H297.6l-208 230.4 64 64 371.2 380.8 355.2-377.6 3.2-3.2 60.8-67.2-224-227.2z m96 300.8l-294.4 313.6L188.8 448l-41.6-44.8 169.6-185.6H704l182.4 188.8-70.4 70.4z\"\n                          fill=\"#044236\" p-id=\"3760\"></path>\n                    <path d=\"M505.6 678.4L361.6 268.8l41.6-12.8 121.6 348.8L630.4 256l38.4 12.8L544 678.4z\" fill=\"#044236\"\n                          p-id=\"3761\"></path>\n                </svg>\n            </div>\n\t\t\t`\n\t\t\t$(this.header).html(header)\n\t\t\tthis.headerload.remove()\n\t\t}\n\t\trenderMymusic(){\n\t\t\tthis.SongList = new SongList(this.body,this.data,false)\n\t\t\tthis.SongList.template(this.data.headpic)\n\t\t}\n\t\trenderDiss(){\n\t\t\t//my_music_songlist\n\t\t\tlet html = `\n\t\t\t\t<div class=\"diss_list\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t`\n\t\t\t$('.my_music_songlist').append(html)\n\t\t\tthis.showDiss()\n\t\t}\n\t\trender(){\n\t\t\tthis.renderDiss()\n\t\t\t$('.diss_list').hide()\n\t\tlet _this = this\n\t\t\t$('.mymusic_header_ul>li').on('click',function (e){\n\t\t\t\t$(this).addClass('active').siblings().removeClass('active')\n\t\t\t\tif($(e.currentTarget).hasClass('my_like active') ){\n\t\t\t\t\t$('.my_music_songlist_ul').fadeIn()\n\t\t\t\t\t$('.diss_list').fadeOut()\n\t\t\t\t}else if($(e.currentTarget).hasClass('my_diss active')){\n\t\t\t\t\t$('.my_music_songlist_ul').fadeOut()\n\t\t\t\t\t$('.diss_list').fadeIn()\n\t\t\t\t\t$('.diss_list>ul>li').on('click',function (e){\n\t\t\t\t\t\tlet dissid = e.currentTarget.dataset.dissid\n\t\t\t\t\t\t_this.getMyDiss(dissid)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tgetCookie(){\n\t\t\t$.ajax({\n\t\t\t\tmethod:'GET',\n\t\t\t\turl:`http://localhost:3300/user/cookie`,\n\t\t\t\tsuccess:res=>{\n\t\t\t\t\tthis.qq = res.data.userCookie.uin\n\t\t\t\t\t// console.log (this.qq)\n\t\t\t\t\tif(!this.qq){\n\t\t\t\t\t\tthis.Tip.template('还没有设置cookie(⊙o⊙)…','waring')\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.getDetail()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tgetDetail(){\n\t\t$.ajax({\n\t\t\tmethod:'GET',\n\t\t\turl:`http://localhost:3300/user/detail?id=${this.qq}`,\n\t\t\tsuccess:res=>{\n\t\t\t\tthis.data={\n\t\t\t\t\t'nickname':res.data.creator.nick,\n\t\t\t\t\t'headpic':'https://'+res.data.creator.headpic.slice(5),\n\t\t\t\t\t'lvinfo':res.data.creator.lvinfo[0].lvinfo_bykey.url_params.length,\n\t\t\t\t\t'mymusicid': res.data.mymusic[0].id,\n\t\t\t\t\t'mydissnum':res.data.mydiss.num,\n\t\t\t\t\t'mydisslist':res.data.mydiss.list, //dissid picurl title  subtitle\n\t\t\t\t}\n\t\t\t\tthis.renderHeader()\n\t\t\t\tthis.getMymusic()\n\t\t\t\tthis.render()\n\t\t\t}\n\t\t})\n\t\t}\n\t\tgetMymusic(){\n\t\t\t$.ajax({\n\t\t\t\tmethod:'GET',\n\t\t\t\turl:`http://localhost:3300/songlist?id=${this.data.mymusicid}`,\n\t\t\t\tsuccess:res=>{\n\t\t\t\t\tthis.data.list = res.data.songlist\n\t\t\t\t\tthis.bodyload.remove()\n\t\t\t\t\tthis.renderMymusic()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tgetMyDiss(dissid){\n\t\t\t$.ajax({\n\t\t\t\tmethod:'GET',\n\t\t\t\turl:`http://localhost:3300/songlist?id=${dissid}`,\n\t\t\t\tsuccess:res=>{\n\t\t\t\t\t$('.my_music').children().remove()\n\t\t\t\t\tlet songList = new SongList('.my_music',res.data,true)\n\t\t\t\t\tsongList.template(res.data.logo)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tshowDiss(){\n\t\tlet _this = this\n\t\t\tthis.data.mydisslist.map(item=>{\n\t\t\t\t//\"http://y.gtimg.cn/music/photo_new/T002R150x150M000000fQplQ3rXsxG.jpg?n=1\" id\n\t\t\t\tlet html = `\n\t\t\t\t\t<li data-dissid=\"${item.dissid}\" data-dissid=\"${item.dissid}\">\n\t\t\t\t\t\t<img src=\"${item.picurl}\" alt=\"\">\n\t\t\t\t\t\t<span>${item.title}</span>\n\t\t\t\t\t</li>\n\t\t\t\t`\n\t\t\t\t$('.diss_list>ul').append(html)\n\t\t\t})\n\n\t\t}\n}","import {Load,SongList} from \"../component/app\";\n\n\nexport class DayRec{\n\tconstructor(el) {\n\t\tthis.el =el\n\t\tthis.load= new Load(this.el , true)\n\t\tthis.load.template()\n\t}\n\n\trender(){\n\t\tthis.getData()\n\t}\n\n\tgetData(){\n\t\tlet _this = this\n\t\tvar settings = {\n\t\t\t\"url\": \"http://localhost:3300/recommend/daily\",\n\t\t\t\"method\": \"GET\",\n\t\t};\n\n\t\t$.ajax(settings).done(function (res) {\n\t\t\t_this.load.remove()\n\t\t\tlet dayRec = new SongList('.day_rec',res.data,true)\n\t\t\tdayRec.template(res.data.logo)\n\t\t});\n\t}\n}","import {ImgSlider} from \"../home/imgSlider\";\nimport {SongSlider} from \"../home/songSlider\";\nimport {RenderRank} from \"../rank/app\";\nimport {Mymusic} from '../my_music/app'\nimport {DayRec} from \"../day_rec/app\"\nimport {tip} from \"../component/app\";\n\nexport class Tab {\n\tconstructor(selector) {\n\t\tthis.selector = selector\n\t\tthis.index = 0\n\t\tthis.clickTab = 'home'\n\t\tthis.currentTab = 'home'\n\t\tthis.prevTab = null\n\t\tthis.showPage = 'home'\n\t\tthis.root = $ (`.home`)\n\t\tthis.slider = new ImgSlider ('.slider_ul', '.slider_ul li')\n\t\tthis.songSlider = new SongSlider ('.song_area_ul', '.song_list_ul')\n\t\tthis.Tip = tip\n\t\tthis.uin\n\t\tthis.qm_keyst\n\t\tthis.getCookie()\n\n\t}\n\n\tactiveLi() {\n\t\tthis.renderHtml (this.currentTab)\n\t\tthis.renderJs ()\n\t\tlet _this = this\n\t\t$ (_this.selector)\n\t\t\t.click (function (e) {\n\t\t\t\tif ($ ('.search').length !== 0) {\n\t\t\t\t\t$ ('.search')\n\t\t\t\t\t\t.remove ()\n\t\t\t\t\t_this.renderHtml (_this.clickTab)\n\t\t\t\t\t_this.renderJs.call (_this)\n\t\t\t\t}\n\t\t\t\t$ (this)\n\t\t\t\t\t.addClass ('active')\n\t\t\t\t\t.siblings ()\n\t\t\t\t\t.removeClass ('active');\n\t\t\t\t//页面初始化\n\t\t\t\t_this.clickTab = $ (this)\n\t\t\t\t\t.data ().tab\n\t\t\t\tif (_this.clickTab === _this.currentTab) {\n\t\t\t\t\t_this.showPage = _this.clickTab\n\t\t\t\t\t_this.prevTab = _this.clickTab\n\t\t\t\t} else {\n\t\t\t\t\t_this.showPage = _this.clickTab\n\t\t\t\t\t_this.prevTab = _this.currentTab\n\t\t\t\t\t_this.currentTab = _this.showPage\n\t\t\t\t}\n\n\t\t\t\tif (_this.prevTab !== _this.currentTab && $ (this)\n\t\t\t\t\t.data ().tab !== _this.prevTab) {\n\t\t\t\t\t$ ('.main')\n\t\t\t\t\t\t.children ()\n\t\t\t\t\t\t.remove ()\n\t\t\t\t\tif(_this.showPage=== 'my_music' ||_this.showPage==='day_rec'){\n\t\t\t\t\t\tif(!_this.qm_keyst || !_this.uin){\n\t\t\t\t\t\t\t_this.Tip.template('还没有设置cookie(⊙o⊙)…','waring')\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_this.renderHtml (_this.showPage)\n\t\t\t\t\t_this.renderJs.call (_this)\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log ('no render')\n\t\t\t\t}\n\n\t\t\t})\n\n\t}\n\n\n\trenderJs() {\n\t\tthis.slider.render ()\n\t\tthis.songSlider.decideArea ()\n\t}\n\tgetCookie(){\n\t\t$.ajax({\n\t\t\tmethod:'GET',\n\t\t\turl:`http://localhost:3300/user/cookie`,\n\t\t\tsuccess:res=>{\n\t\t\t\tthis.qm_keyst = res.data.userCookie.qm_keyst\n\t\t\t\tthis.uin = res.data.userCookie.uin\n\t\t\t}\n\t\t})\n\t}\n\n\trenderHtml(type) {\n\t\tlet text\n\t\tswitch (type) {\n\t\t\tcase 'home':\n\t\t\t\ttext = `    \n            <section data-tab=\"home\" class=\"home\">        \n\t            <!--  轮播图-->\n\t            <section class=\"slider\">\n\t                <div class=\"slider_move\">\n\t                    <ul class=\"clearfix slider_ul\">\n\t                    \n\t                    </ul>\n\t                </div>\n\t            </section>\n\t            <!--        新歌推荐-->\n\t            <section class=\"new_song_recommend\">\n\t                <div class=\"new_song_recommend_bg\"></div>\n\t                <div class=\"new_song_leave\">\n\t                    <h2>新歌推荐</h2>\n\t                    <div class=\"song_area\">\n\t                        <ul class=\"clearfix song_area_ul\">\n\t                            <li class=\"active \"><a>最新</a></li>\n\t                            <li><a>内地</a></li>\n\t                            <li><a>港台</a></li>\n\t                            <li><a>欧美</a></li>\n\t                            <li><a>韩国</a></li>\n\t                            <li><a>日本</a></li>\n\t                        </ul>\n\t                    </div>\n\t                    <div class=\"song_list\">\n\t                        <ul class=\"song_list_ul\">\n\t                        </ul>\n\t                    </div>\n\t                </div>\n\t            </section>\n\t\t\t</section>\n\t\t\t`\n\t\t\t\t$ (text)\n\t\t\t\t\t.appendTo (`.main`)\n\t\t\t\tbreak\n\n\t\t\tcase 'my_music':\n\t\t\t\ttext = `\n<section data-tab=\"my_music\" class=\"my_music\">\n    <div class=\"mymusic_header\">\n        <div class=\"avatar\">\n\n        </div>\n        <ul class=\"mymusic_header_ul\">\n            <li class=\"active my_like\">我喜欢</li>\n            <li class=\"my_diss\">创建的歌单</li>\n        </ul>\n    </div>\n    <div class=\"my_music_songlist\">\n        <ul class=\"my_music_songlist_ul\">\n        </ul>\n    </div>\n</section>\n\t\t\t`\n\t\t\t\t$ (text)\n\t\t\t\t\t.appendTo (`.main`)\n\n\t\t\t\tnew Mymusic('.avatar','.my_music_songlist_ul')\n\n\t\t\t\tbreak\n\n\t\t\tcase 'day_rec':\n\t\t\t\ttext = `\n       \t\t\t <section  data-tab=\"day_rec\"  class=\"day_rec\">\n\n\t\t\t\t</section>\n\t\t\t`\n\t\t\t\t$ (text)\n\t\t\t\t\t.appendTo (`.main`)\n\t\t\t\tlet dayRec = new DayRec('.day_rec')\n\t\t\t\tdayRec.render()\n\t\t\t\tbreak\n\n\t\t\tcase 'rank':\n\t\t\t\ttext = `\n\t\t\t      <section  data-tab=\"rank\"  class=\"rank\">\n\t\t\t\t\t\t<ul class=\"rank_ul_1\">\n\t\t\t\t\t\t               \n\t\t\t            </ul>\n\t\t\t\t  </section>\n\t\t\t\t\t`\n\t\t\t\t$ (text)\n\t\t\t\t\t.appendTo (`.main`)\n\n\t\t\t\tlet renderRank = new RenderRank ('.rank_ul_1')\n\t\t\t\trenderRank.init ()\n\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t\t// return\n\t}\n\n\n}","import {Load,GetMusicData} from \"../component/app\";\n\nexport class Search {\n\tconstructor(slot) {\n\t\tthis.slot = slot\n\t\tthis.listener = $ ('.search_form')\n\t\tthis.pageSize = 0\n\t\tthis.total =0\n\t\tthis.pageNo = 1\n\t\tthis.maxPage= 0\n\t\tthis.keyword =''\n\t\tthis.isonly = false\n\t\tthis.load = null;\n\t\tthis.over = `<p class=\"load_over\" style=\"text-align: center;font-size:1rem\">没有歌曲了</p>`\n\t}\n\n\ttemplate() {\n\t\tlet html = `\n<!--           <section   class=\"search\">-->\n        <div class=\"search_top_text\">\n            <p>搜索结果</p>\n        </div>\n        <div class=\"day_bottom\">\n            <ul class=\"day_bottom_ul\">\n            </ul>\n        </div>\n<!--    </section>-->\n\t\t\t`\n\t\tlet dom = document.createElement('section')\n\t\tdom.className = 'search'\n\t\tdom.innerHTML = html\n\t\t$('.main').append(dom)\n\t\t$('.day_bottom').append(this.over)\n\t\t$('.load_over').hide()\n\t\tthis.load =new Load('.day_bottom')\n\t\tthis.load.template()\n\t\tthis.load.render()\n\t}\n\tinit() {\n\t\tthis.listener.on ('submit', (e) => {\n\t\t\te.preventDefault ()\n\t\t\t$('.main').children().remove()\n\t\t\tlet keyword = $ ('input[name=key]')\n\t\t\t\t.val ()\n\t\t\tthis.template()\n\t\t\tthis.getData(keyword,1)\n\t\t\tthis.pageNo = 1\n\t\t\tthis.scrollLoad()\n\n\t\t})\n\t}\n\tformatTime(time){\n\t\tlet min = Math.floor(time /60)\n\t\tlet sec = Math.floor(time%60)\n\t\tif(min<10)min = '0'+min\n\t\tif(sec<10)sec = '0'+sec\n\t\treturn `${min}:${sec}`\n\t}\n\tgetData(keyword,pageNo =1) {\n\t\t$.ajax ({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'http://localhost:3300' + `/search?t=0&key=${keyword}&pageSize=20&pageNo=${pageNo}`,\n\t\t\tsuccess: res => {\n\t\t\t\t$('.load_over').hide()\n\t\t\t\tthis.keyword = keyword\n\t\t\t\tthis.pageSize = res.data.pageSize\n\t\t\t\tthis.total = res.data.total\n\t\t\t\tthis.maxPage = Math.round(this.total/this.pageSize)\n\t\t\t\tlet a = res.data.list.map(item=>{\n\t\t\t\t\tlet time = this.formatTime(item.interval)\n\t\t\t\t\treturn `<li class=\"search_song_li\" data-singmid='${item.songmid}'>\n\t                <a>\n                        <span>\n                        ${item.songname}\n                        <span class=\"song_isvip\">${item.pay.payplay?'vip':'no'}</span>\n                        </span>\n\t                    <span>${item.singer[0].name}</span>\n\t                    <span>${time}</span>\n\t                </a>\n                </li>`\n\t\t\t\t}).join('')\n\t\t\t\t$('.day_bottom_ul').append(a)\n\t\t\t\t$('.search_song_li').on('click',function(e){\n\t\t\t\t\tlet load = new Load('',true)\n\t\t\t\t\tload.template(this)\n\t\t\t\t\tlet songmid = e.currentTarget.dataset.singmid\n\t\t\t\t\tlet song = new GetMusicData()\n\t\t\t\t\tsong.getData(songmid,load,this)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\t// 滚动加载\n\tscrollLoad(){\n\t\tlet _this = this\n\t\tlet onscroll = this.throttle(function (){\n\t\t\tlet scroll = pageYOffset+ document.documentElement.clientHeight\n\t\t\tlet povit = document.body.clientHeight -50\n\t\t\tif(scroll >= povit && _this.pageNo<_this.maxPage){\n\t\t\t\t_this.pageNo +=1\n\t\t\t\t_this.getData(_this.keyword,_this.pageNo)\n\t\t\t}\n\t\t\tif(_this.pageNo >= _this.maxPage){\n\t\t\t\t_this.load.remove()\n\t\t\t\t$('.load_over').show()\n\t\t\t}\n\t\t},1000)\n\t\twindow.addEventListener('scroll',onscroll)\n\t}\n\n\t//节流\n\tthrottle(func, wait) {\n\t\tlet prev, timer\n\t\treturn function fn() {\n\t\t\tlet curr = Date.now()\n\t\t\tlet diff = curr - prev\n\t\t\tif (!prev || diff >= wait) {\n\t\t\t\tfunc()\n\t\t\t\tprev = curr\n\t\t\t} else if (diff < wait) {\n\t\t\t\tclearTimeout(timer)\n\t\t\t\ttimer = setTimeout(fn, wait - diff)\n\t\t\t}\n\t\t}\n\t}\n\n\n\n\n}","\nimport {tip} from '../component/app'\n\nexport class SetCookie{\n\tconstructor() {\n\t\tthis.tip = tip\n\t\tthis.init()\n\t}\n\n\tset(cookie){\n\n\t\tlet _this = this\n\t\tvar settings = {\n\t\t\t\"url\": \"http://localhost:3300/user/setCookie?=\",\n\t\t\t\"method\": \"POST\",\n\t\t\t\"timeout\": 0,\n\t\t\t\"headers\": {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\t\"data\": JSON.stringify({\"data\":`\"${cookie}\"`}),\n\t\t};\n\n\t\t$.ajax(settings).done(function (response) {\n\t\t\tif(response.result ===200){\n\t\t\t\t_this.tip.template(`${response.data}`,'fail')\n\t\t\t}else if(response.result ===100){\n\t\t\t\t_this.tip.template(`${response.data}`,'success')\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t},400)\n\t\t\t}\n\t\t\t$('.cookie_form').fadeOut()\n\t\t})\n\t}\n\n\tinit(){\n\t\tlet form = $('.cookie_form')\n\t\tform.hide()\n\t\tlet _this = this\n\t\t$('.set_cookie').click((e)=>{\n\t\t\tform.fadeToggle()\n\t\t})\n\t\tform.submit(function (e){\n\t\t\te.preventDefault()\n\t\t\tlet cookie = $('input[name=cookie]').val()\n\t\t\t_this.set(cookie)\n\t\t})\n\t}\n\tdeleteCookie(){\n\t\tlet _this = this\n\t\tvar settings = {\n\t\t\t\"url\": \"http://localhost:3300/user/setCookie?=\",\n\t\t\t\"method\": \"POST\",\n\t\t\t\"timeout\": 0,\n\t\t\t\"headers\": {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\t\"data\": JSON.stringify({\"data\":\"\"}),\n\t\t};\n\n\t\t$.ajax(settings).done(function (response) {\n\t\t\t_this.tip.template(`操作成功`,'waring')\n\t\t\tsetTimeout(()=>{\n\t\t\t\twindow.location.reload();\n\t\t\t},400)\n\t\t});\n\t}\n}","\nimport {Tab} from './nav/tab'\nimport {Search} from './nav/search'\nimport {SetCookie} from './nav/setCookie'\nimport {tip} from './component/app'\n\n$('.cookie_form').hide()\n\n$(function () {\n\t$.ajax({\n\t\tmethod:'GET',\n\t\turl:`http://localhost:3300/user/cookie`,\n\t\tsuccess:res=>{\n\t\t\tlet qm_keyst = res.data.userCookie.qm_keyst\n\t\t\tlet uin = res.data.userCookie.uin\n\t\t\tif(qm_keyst === undefined || uin === undefined){\n\t\t\t\ttip.template('欢迎━(*｀∀´*)ノ亻! Cookie未设置','waring')\n\t\t\t\tnew SetCookie()\n\t\t\t}else {\n\t\t\t\ttip.template('欢迎━(*｀∀´*)ノ亻! Cookie获取成功','success')\n\t\t\t\t$('.set_cookie').css({'background-color': `#E6A23C`}).text('清除cookie').click(()=>{\n\t\t\t\t\tlet cookie = new SetCookie()\n\t\t\t\t\tcookie.deleteCookie()\n\t\t\t\t})\n\t\t\t}\n\t\t\t$ ('#player')\n\t\t\t\t.hide ()\n\t\t\tlet tab = new Tab ('.nav_ul>li')\n\t\t\ttab.activeLi ()\n\t\t\ttab.getCookie()\n\t\t\tlet search = new Search('.main')\n\t\t\tsearch.init()\n\t\t}\n\t})\n})\n\n\n\n\n"]}